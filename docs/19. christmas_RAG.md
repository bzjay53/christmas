## ìš”ì•½

Retrieval-Augmented Generation(RAG)ì€ ì‚¬ì „ í•™ìŠµëœ LLMì´ ê°–ê³  ìˆëŠ” ì§€ì‹ì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê³ , ìµœì‹  ë¬¸ì„œÂ·í”„ë¡œì íŠ¸ ë‚´ ë¬¸ì„œë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì°¸ì¡°í•˜ì—¬ ì‘ë‹µì˜ **ì •í™•ì„±**, **ì¼ê´€ì„±**, **ì „ë¬¸ì„±**ì„ ë†’ì´ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤. â€œChristmasâ€ í”„ë¡œì íŠ¸ì— ë„ì… ì‹œ, í”„ë¡œì íŠ¸ ë¬¸ì„œ(`christmas_plan.md` ë“±)ë¥¼ **ì§€ì‹ ì†ŒìŠ¤**ë¡œ ì‚¬ìš©í•˜ê³ , Vector DBë¥¼ í†µí•´ **ë²¡í„° ê²€ìƒ‰**ì„ ìˆ˜í–‰í•œ í›„, LLMì— ê´€ë ¨ ë§¥ë½ì„ ì œê³µí•¨ìœ¼ë¡œì¨ **ë¬¸ì„œ ê¸°ë°˜ ë‹µë³€**, **ì½”ë“œ ìë™ ìƒì„±**, **ë¬¸ì„œ ê°„ ë§í¬ ì œì•ˆ** ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ìë™í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## 1. RAG ì‹œìŠ¤í…œ ê°œìš”

RAGëŠ” í¬ê²Œ **íƒìƒ‰(Retrieval)** ë‹¨ê³„ì™€ **ìƒì„±(Generation)** ë‹¨ê³„ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ë¨¼ì € ì‚¬ìš©ìì˜ ì¿¼ë¦¬ë‚˜ ì½”ë“œ ë³€ê²½ ìš”ì²­ì„ Vector DBì—ì„œ ìœ ì‚¬í•œ ë¬¸ì„œ ì²­í¬(chunk)ë¥¼ ê²€ìƒ‰í•˜ê³ , ì´ì–´ì„œ í•´ë‹¹ ì²­í¬ë¥¼ LLM í”„ë¡¬í”„íŠ¸ì— í¬í•¨ì‹œì¼œ ì •í™•í•˜ê³  ê·¼ê±° ìˆëŠ” ì‘ë‹µì„ ìƒì„±í•©ë‹ˆë‹¤ ([arXiv](https://arxiv.org/abs/2407.01219?utm_source=chatgpt.com "Searching for Best Practices in Retrieval-Augmented Generation")).

---

## 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```mermaid
flowchart LR
  Q["User Query"] --> E["Embedding Model"]
  E --> V["Vector DB (e.g. Pinecone)"]
  V --> R["Relevant Chunks"]
  R --> G["LLM (GPT-4.1 Nano)"]
  G --> A["Answer with Citations"]
  A --> U["User / Cursor AI"]
```

- **Embedding Model**: `text-embedding-ada-002` ë“± ê³ ì„±ëŠ¥ ì„ë² ë”© API ì‚¬ìš© ([OpenAI Help Center](https://help.openai.com/en/articles/8868588-retrieval-augmented-generation-rag-and-semantic-search-for-gpts?utm_source=chatgpt.com "Retrieval Augmented Generation (RAG) and Semantic Search for ..."))
    
- **Vector DB**: PineconeÂ·WeaviateÂ·Qdrant ì¤‘ ì„ íƒ, ë¬¸ì„œ ì²­í¬ ìƒ‰ì¸ ([ìŠ¤íƒ ì˜¤ë²„í”Œë¡œ ë¸”ë¡œê·¸](https://stackoverflow.blog/2024/08/15/practical-tips-for-retrieval-augmented-generation-rag/?utm_source=chatgpt.com "Practical tips for retrieval-augmented generation (RAG)"))
    
- **LLM**: ê¸°ë³¸ GPT-4.1 Nano; í•„ìš”ì‹œ Claude SonnetÂ·DeepSeek ì˜µì…˜ ([kapa.ai](https://www.kapa.ai/blog/rag-best-practices?utm_source=chatgpt.com "RAG Best Practices: Lessons from 100+ Technical Teams - Kapa.ai"))
    

---

## 3. ë°ì´í„° ì¤€ë¹„ ë° ìƒ‰ì¸í™”

1. **ë¬¸ì„œ ë¶„í• **: ëª¨ë“  `.md` íŒŒì¼ì„ 500-token ì²­í¬ë¡œ ë¶„í• í•˜ì—¬ í˜ì´ë¡œë“œ ë©”íƒ€ë°ì´í„°(ë¬¸ì„œëª…, ë²„ì „, ì„¹ì…˜)ì™€ í•¨ê»˜ ì €ì¥ ([ìŠ¤íƒ ì˜¤ë²„í”Œë¡œ ë¸”ë¡œê·¸](https://stackoverflow.blog/2024/08/15/practical-tips-for-retrieval-augmented-generation-rag/?utm_source=chatgpt.com "Practical tips for retrieval-augmented generation (RAG)")).
    
2. **ì„ë² ë”© ìƒì„±**: ê° ì²­í¬ì— ëŒ€í•´ Embedding API í˜¸ì¶œ(`openai.embeddings.create`)ì„ ìˆ˜í–‰ ([Medium](https://scalexi.medium.com/implementing-a-retrieval-augmented-generation-rag-system-with-openais-api-using-langchain-ab39b60b4d9f?utm_source=chatgpt.com "Implementing a Retrieval-Augmented Generation (RAG) System ...")).
    
3. **ì¸ë±ì‹±**: Vector DBì— `"project:christmas", "doc":filename, "chunk_id":i` íƒœê·¸ì™€ í•¨ê»˜ ë²¡í„° ë°ì´í„° ì €ì¥ ([Google Cloud](https://cloud.google.com/blog/products/ai-machine-learning/optimizing-rag-retrieval?utm_source=chatgpt.com "RAG systems: Best practices to master evaluation for ... - Google Cloud")).
    

---

## 4. Retrieval ëª¨ë“ˆ

- **ì¿¼ë¦¬ ì„ë² ë”©**: ì‚¬ìš©ìì˜ ìì—°ì–´ ì§ˆë¬¸ì„ ì„ë² ë”© ëª¨ë¸ì— ì „ë‹¬.
    
- **ìœ ì‚¬ë„ ê²€ìƒ‰**: `cosine similarity`ë¥¼ ì´ìš©í•´ ìƒìœ„ `k`ê°œ ì²­í¬ë¥¼ ë°˜í™˜ (ê¸°ì¤€ `k=5`) ([Humanloop](https://humanloop.com/blog/rag-architectures?utm_source=chatgpt.com "8 Retrieval Augmented Generation (RAG) Architectures You Should ...")).
    
- **ê²°ê³¼ í›„ì²˜ë¦¬**: ì²­í¬ ê°„ ì¤‘ë³µ ì œê±° ë° ë¬¸ì„œ ë²„ì „ ì¼ì¹˜ ì—¬ë¶€ ê²€ì¦ ([Introduction | ğŸ¦œï¸ğŸ”— LangChain](https://python.langchain.com/docs/tutorials/rag/?utm_source=chatgpt.com "Build a Retrieval Augmented Generation (RAG) App: Part 1")).
    

---

## 5. Generation ëª¨ë“ˆ

- **ì»¨í…ìŠ¤íŠ¸ êµ¬ì„±**: ê²€ìƒ‰ëœ ì²­í¬ë¥¼ â€œDocument A: â€¦â€ í˜•íƒœë¡œ LLM í”„ë¡¬í”„íŠ¸ì— ì‚½ì….
    
- **í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿**:
    
    ````
    You are a project expert. Based on the following documents:
    {chunk1}
    {chunk2}
    â€¦
    Answer the question: {user_query}
    Provide citations in format (Document:Section).
    ``` :contentReference[oaicite:9]{index=9}.  
    ````
    
- **LLM í˜¸ì¶œ**: OpenAI ChatCompletion APIë¡œ `gpt-4.1-nano` ëª¨ë¸ ì‚¬ìš© ([Introduction | ğŸ¦œï¸ğŸ”— LangChain](https://python.langchain.com/docs/tutorials/rag/?utm_source=chatgpt.com "Build a Retrieval Augmented Generation (RAG) App: Part 1")).
    

---

## 6. í‰ê°€ ë° ëª¨ë‹ˆí„°ë§

- **ì •í™•ì„± ê²€ì¦**: ì—…ê³„ í‘œì¤€ ë²¤ì¹˜ë§ˆí¬(HotpotQA, ELI5) ìŠ¤ì½”ì–´ ì¸¡ì • ([Galileo AI](https://www.galileo.ai/blog/mastering-rag-how-to-architect-an-enterprise-rag-system?utm_source=chatgpt.com "Mastering RAG: How To Architect An Enterprise RAG System")).
    
- **ì‘ë‹µ ì†ë„**: p95 Latency < 500ms ëª©í‘œ ([Google Cloud](https://cloud.google.com/blog/products/ai-machine-learning/optimizing-rag-retrieval?utm_source=chatgpt.com "RAG systems: Best practices to master evaluation for ... - Google Cloud")).
    
- **Hallucination Rate**: ì¸ê°„ ê²€í†  í‰ê°€ë¡œ ì›”ê°„ 2% ë¯¸ë§Œ ìœ ì§€ ([WIRED](https://www.wired.com/story/reduce-ai-hallucinations-with-rag?utm_source=chatgpt.com "Reduce AI Hallucinations With This Neat Software Trick")).
    
- **ì‚¬ìš©ì í”¼ë“œë°± ë£¨í”„**: ì˜ëª»ëœ ì‘ë‹µì— ëŒ€í•´ ì‚¬ìš©ì íƒœê·¸â†’Re-retrieval ìˆ˜í–‰ ([Galileo AI](https://www.galileo.ai/blog/mastering-rag-how-to-architect-an-enterprise-rag-system?utm_source=chatgpt.com "Mastering RAG: How To Architect An Enterprise RAG System")).
    

---

## 7. í†µí•© ë° ê±°ë²„ë„ŒìŠ¤

- **Cursor AI ì—°ë™**: `.cursor/rules` ì— RAG ê²€ì¦ ê·œì¹™ ì¶”ê°€
    
    - ëª¨ë“  ëŒ€ë‹µì— **`source`** í•„ë“œ í¬í•¨
        
    - íƒìƒ‰ ë‹¨ê³„ ì‹¤íŒ¨ ì‹œ ê²½ê³  âš ï¸ ([Introduction | ğŸ¦œï¸ğŸ”— LangChain](https://python.langchain.com/docs/tutorials/qa_chat_history/?utm_source=chatgpt.com "Build a Retrieval Augmented Generation (RAG) App: Part 2")).
        
- **ë¬¸ì„œ ì—…ë°ì´íŠ¸ ë°˜ì˜**: `christmas_reference.md` ë²„ì „ ë³€ë™ ì‹œ ì¬ì¸ë±ì‹± ìë™í™”
    
- **ë³´ì•ˆ**: API í‚¤ëŠ” Vault ê´€ë¦¬, Vector DB TLS ì•”í˜¸í™” í™œì„±í™” ([learn.microsoft.com](https://learn.microsoft.com/en-us/training/modules/use-own-data-azure-openai/?utm_source=chatgpt.com "Implement Retrieval Augmented Generation (RAG) with Azure ...")).
    

---

> **ë‹¤ìŒ ë‹¨ê³„**: ë³¸ RAG ì‹œìŠ¤í…œ ì •ì˜ë¥¼ ë°”íƒ•ìœ¼ë¡œ, **ë¦¬íŒ©í† ë§**(`christmas_rag.md` Refactoring Governance) ë° **ì°¸ì¡° ë¬¸ì„œ**(`christmas_reference.md`)ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‘ì„±Â·ìµœì‹ í™”í•©ì‹œë‹¤.