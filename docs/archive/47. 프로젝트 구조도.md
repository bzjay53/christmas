# Christmas Trading í”„ë¡œì íŠ¸ êµ¬ì¡°ë„

## ğŸ“‹ ë¬¸ì„œ ê°œìš”
ì´ ë¬¸ì„œëŠ” Christmas Trading í”„ë¡œì íŠ¸ì˜ ì „ì²´ ì•„í‚¤í…ì²˜ì™€ ì»´í¬ë„ŒíŠ¸ ê°„ì˜ ê´€ê³„ë¥¼ ì‹œê°ì ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.

## ğŸ—ï¸ ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```mermaid
graph TB
    subgraph "í´ë¼ì´ì–¸íŠ¸ ê³„ì¸µ"
        A[ì›¹ ë¸Œë¼ìš°ì €] --> B[React í”„ë¡ íŠ¸ì—”ë“œ]
        B --> C[Material-UI ì»´í¬ë„ŒíŠ¸]
    end
    
    subgraph "API ê³„ì¸µ"
        D[Express.js ë°±ì—”ë“œ] --> E[REST API ë¼ìš°íŠ¸]
        D --> F[WebSocket ì„œë²„]
    end
    
    subgraph "ì™¸ë¶€ ì„œë¹„ìŠ¤"
        G[Supabase ì¸ì¦/DB]
        H[KIS API]
        I[í…”ë ˆê·¸ë¨ ë´‡ API]
    end
    
    subgraph "ë°°í¬ í™˜ê²½"
        J[GitHub Pages]
        K[Docker ì»¨í…Œì´ë„ˆ]
        L[Netlify/Vercel]
    end
    
    B --> D
    D --> G
    D --> H
    D --> I
    B --> J
    K --> L
```

## ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„¸

### ë£¨íŠ¸ ë””ë ‰í† ë¦¬
```
christmas/
â”œâ”€â”€ ğŸ“‚ backend/                 # ë°±ì—”ë“œ ì„œë²„ (Node.js + Express)
â”œâ”€â”€ ğŸ“‚ web-dashboard/           # í”„ë¡ íŠ¸ì—”ë“œ (React + Vite)
â”œâ”€â”€ ğŸ“‚ docs/                    # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”œâ”€â”€ ğŸ“‚ scripts/                 # ë°°í¬ ë° ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ ğŸ“‚ monitoring/              # ëª¨ë‹ˆí„°ë§ ì„¤ì •
â”œâ”€â”€ ğŸ“‚ nginx/                   # Nginx ì„¤ì •
â”œâ”€â”€ ğŸ“‚ supabase/                # Supabase ì„¤ì •
â”œâ”€â”€ ğŸ“‚ config/                  # ì„¤ì • íŒŒì¼
â”œâ”€â”€ ğŸ“‚ logs/                    # ë¡œê·¸ íŒŒì¼
â”œâ”€â”€ ğŸ“‚ backups/                 # ë°±ì—… íŒŒì¼
â”œâ”€â”€ ğŸ“‚ tests/                   # í…ŒìŠ¤íŠ¸ íŒŒì¼
â”œâ”€â”€ ğŸ“„ docker-compose.yml       # Docker ì»¨í…Œì´ë„ˆ ì„¤ì •
â”œâ”€â”€ ğŸ“„ package.json             # ë£¨íŠ¸ ì˜ì¡´ì„±
â”œâ”€â”€ ğŸ“„ README.md                # í”„ë¡œì íŠ¸ ê°œìš”
â””â”€â”€ ğŸ“„ .gitignore               # Git ë¬´ì‹œ íŒŒì¼
```

### ë°±ì—”ë“œ êµ¬ì¡° (`backend/`)
```
backend/
â”œâ”€â”€ ğŸ“„ server.js                # ë©”ì¸ ì„œë²„ íŒŒì¼
â”œâ”€â”€ ğŸ“„ package.json             # ë°±ì—”ë“œ ì˜ì¡´ì„±
â”œâ”€â”€ ğŸ“„ .env                     # í™˜ê²½ ë³€ìˆ˜
â”œâ”€â”€ ğŸ“„ env.txt                  # í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œ
â”œâ”€â”€ ğŸ“‚ routes/                  # API ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ ğŸ“„ auth.js             # ì¸ì¦ API
â”‚   â”œâ”€â”€ ğŸ“„ kis.js              # KIS API ì—°ë™
â”‚   â”œâ”€â”€ ğŸ“„ telegram.js         # í…”ë ˆê·¸ë¨ ë´‡ API
â”‚   â”œâ”€â”€ ğŸ“„ users.js            # ì‚¬ìš©ì ê´€ë¦¬ API
â”‚   â””â”€â”€ ğŸ“„ websocket.js        # WebSocket í•¸ë“¤ëŸ¬
â”œâ”€â”€ ğŸ“‚ middleware/              # ë¯¸ë“¤ì›¨ì–´
â”‚   â”œâ”€â”€ ğŸ“„ auth.js             # ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
â”‚   â”œâ”€â”€ ğŸ“„ cors.js             # CORS ì„¤ì •
â”‚   â”œâ”€â”€ ğŸ“„ rateLimit.js        # ìš”ì²­ ì œí•œ
â”‚   â””â”€â”€ ğŸ“„ security.js         # ë³´ì•ˆ ë¯¸ë“¤ì›¨ì–´
â”œâ”€â”€ ğŸ“‚ services/                # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ ğŸ“„ kisService.js       # KIS API ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ ğŸ“„ telegramService.js  # í…”ë ˆê·¸ë¨ ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ ğŸ“„ supabaseService.js  # Supabase ì„œë¹„ìŠ¤
â”œâ”€â”€ ğŸ“‚ utils/                   # ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ ğŸ“„ logger.js           # ë¡œê¹… ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ ğŸ“„ validator.js        # ë°ì´í„° ê²€ì¦
â”‚   â””â”€â”€ ğŸ“„ encryption.js       # ì•”í˜¸í™” ìœ í‹¸ë¦¬í‹°
â””â”€â”€ ğŸ“‚ logs/                    # ë¡œê·¸ íŒŒì¼
    â”œâ”€â”€ ğŸ“„ access.log          # ì ‘ê·¼ ë¡œê·¸
    â”œâ”€â”€ ğŸ“„ error.log           # ì—ëŸ¬ ë¡œê·¸
    â””â”€â”€ ğŸ“„ app.log             # ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸
```

### í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡° (`web-dashboard/`)
```
web-dashboard/
â”œâ”€â”€ ğŸ“„ package.json             # í”„ë¡ íŠ¸ì—”ë“œ ì˜ì¡´ì„±
â”œâ”€â”€ ğŸ“„ vite.config.js           # Vite ì„¤ì •
â”œâ”€â”€ ğŸ“„ .env                     # í™˜ê²½ ë³€ìˆ˜
â”œâ”€â”€ ğŸ“„ index.html               # HTML í…œí”Œë¦¿
â”œâ”€â”€ ğŸ“‚ src/                     # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ ğŸ“„ App.jsx             # ë©”ì¸ ì•± ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ğŸ“„ main.jsx            # ì•± ì§„ì…ì 
â”‚   â”œâ”€â”€ ğŸ“‚ components/          # React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Dashboard.jsx   # ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Login.jsx       # ë¡œê·¸ì¸
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Signup.jsx      # íšŒì›ê°€ì…
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ KISApiSettings.jsx # KIS API ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ TradingStrategy.jsx # ê±°ë˜ ì „ëµ
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Portfolio.jsx   # í¬íŠ¸í´ë¦¬ì˜¤
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ AdminPanel.jsx  # ê´€ë¦¬ì íŒ¨ë„
â”‚   â”‚   â””â”€â”€ ğŸ“„ Notifications.jsx # ì•Œë¦¼
â”‚   â”œâ”€â”€ ğŸ“‚ lib/                 # ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ supabase.js     # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ apiService.js   # API ì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ websocket.js    # WebSocket í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ ğŸ“„ utils.js        # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”œâ”€â”€ ğŸ“‚ hooks/               # React í›…
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useAuth.js      # ì¸ì¦ í›…
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useWebSocket.js # WebSocket í›…
â”‚   â”‚   â””â”€â”€ ğŸ“„ useApi.js       # API í›…
â”‚   â”œâ”€â”€ ğŸ“‚ styles/              # ìŠ¤íƒ€ì¼ íŒŒì¼
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ globals.css     # ì „ì—­ ìŠ¤íƒ€ì¼
â”‚   â”‚   â””â”€â”€ ğŸ“„ components.css  # ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼
â”‚   â””â”€â”€ ğŸ“‚ assets/              # ì •ì  ìì‚°
â”‚       â”œâ”€â”€ ğŸ“„ logo.png        # ë¡œê³ 
â”‚       â””â”€â”€ ğŸ“„ icons/          # ì•„ì´ì½˜
â”œâ”€â”€ ğŸ“‚ public/                  # ê³µê°œ íŒŒì¼
â”‚   â”œâ”€â”€ ğŸ“„ favicon.ico         # íŒŒë¹„ì½˜
â”‚   â””â”€â”€ ğŸ“„ manifest.json       # PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸
â””â”€â”€ ğŸ“‚ dist/                    # ë¹Œë“œ ê²°ê³¼ë¬¼
```

## ğŸ”— ì»´í¬ë„ŒíŠ¸ ê°„ ë°ì´í„° íë¦„

### ì¸ì¦ í”Œë¡œìš°
```mermaid
sequenceDiagram
    participant U as ì‚¬ìš©ì
    participant F as í”„ë¡ íŠ¸ì—”ë“œ
    participant B as ë°±ì—”ë“œ
    participant S as Supabase
    
    U->>F: ë¡œê·¸ì¸ ìš”ì²­
    F->>S: ì¸ì¦ ìš”ì²­
    S->>F: ì¸ì¦ í† í°
    F->>B: API ìš”ì²­ (í† í° í¬í•¨)
    B->>S: í† í° ê²€ì¦
    S->>B: ì‚¬ìš©ì ì •ë³´
    B->>F: ì‘ë‹µ ë°ì´í„°
    F->>U: ëŒ€ì‹œë³´ë“œ í‘œì‹œ
```

### KIS API ì—°ë™ í”Œë¡œìš°
```mermaid
sequenceDiagram
    participant F as í”„ë¡ íŠ¸ì—”ë“œ
    participant B as ë°±ì—”ë“œ
    participant K as KIS API
    
    F->>B: KIS API í‚¤ ì„¤ì •
    B->>K: OAuth í† í° ìš”ì²­
    K->>B: ì•¡ì„¸ìŠ¤ í† í°
    B->>F: ì„¤ì • ì™„ë£Œ ì‘ë‹µ
    
    F->>B: ì£¼ì‹ ì •ë³´ ìš”ì²­
    B->>K: í˜„ì¬ê°€ ì¡°íšŒ
    K->>B: ì£¼ì‹ ë°ì´í„°
    B->>F: ì£¼ì‹ ì •ë³´ ì‘ë‹µ
```

### ì‹¤ì‹œê°„ ì•Œë¦¼ í”Œë¡œìš°
```mermaid
sequenceDiagram
    participant B as ë°±ì—”ë“œ
    participant W as WebSocket
    participant F as í”„ë¡ íŠ¸ì—”ë“œ
    participant T as í…”ë ˆê·¸ë¨
    
    B->>W: ê±°ë˜ ì‹ í˜¸ ë°œìƒ
    W->>F: ì‹¤ì‹œê°„ ì•Œë¦¼ ì „ì†¡
    B->>T: í…”ë ˆê·¸ë¨ ë©”ì‹œì§€ ì „ì†¡
    F->>F: UI ì—…ë°ì´íŠ¸
```

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ ë§¤í•‘

### í”„ë¡ íŠ¸ì—”ë“œ ê¸°ìˆ  ìŠ¤íƒ
```
React 18.2.0
â”œâ”€â”€ Vite (ë¹Œë“œ ë„êµ¬)
â”œâ”€â”€ Material-UI (UI ì»´í¬ë„ŒíŠ¸)
â”œâ”€â”€ React Router (ë¼ìš°íŒ…)
â”œâ”€â”€ Recharts (ì°¨íŠ¸)
â”œâ”€â”€ Axios (HTTP í´ë¼ì´ì–¸íŠ¸)
â””â”€â”€ Supabase JS (ì¸ì¦/DB)
```

### ë°±ì—”ë“œ ê¸°ìˆ  ìŠ¤íƒ
```
Node.js 18.20.5
â”œâ”€â”€ Express.js (ì›¹ í”„ë ˆì„ì›Œí¬)
â”œâ”€â”€ WebSocket (ì‹¤ì‹œê°„ í†µì‹ )
â”œâ”€â”€ Supabase JS (ë°ì´í„°ë² ì´ìŠ¤)
â”œâ”€â”€ Axios (HTTP í´ë¼ì´ì–¸íŠ¸)
â”œâ”€â”€ Helmet (ë³´ì•ˆ)
â”œâ”€â”€ CORS (êµì°¨ ì¶œì²˜ ìš”ì²­)
â””â”€â”€ Rate Limiting (ìš”ì²­ ì œí•œ)
```

### ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—°ë™
```
ì™¸ë¶€ ì„œë¹„ìŠ¤
â”œâ”€â”€ Supabase (ì¸ì¦/ë°ì´í„°ë² ì´ìŠ¤)
â”œâ”€â”€ KIS API (ì£¼ì‹ ê±°ë˜)
â”œâ”€â”€ í…”ë ˆê·¸ë¨ Bot API (ì•Œë¦¼)
â”œâ”€â”€ GitHub Pages (ë°°í¬)
â””â”€â”€ Docker Hub (ì»¨í…Œì´ë„ˆ)
```

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### Supabase í…Œì´ë¸” êµ¬ì¡°
```sql
-- ì‚¬ìš©ì í…Œì´ë¸”
users (
  id UUID PRIMARY KEY,
  email VARCHAR UNIQUE,
  created_at TIMESTAMP,
  subscription_type VARCHAR,
  kis_api_key VARCHAR ENCRYPTED,
  telegram_chat_id VARCHAR
)

-- ê±°ë˜ ë‚´ì—­ í…Œì´ë¸”
trades (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  symbol VARCHAR,
  action VARCHAR, -- 'BUY' or 'SELL'
  quantity INTEGER,
  price DECIMAL,
  timestamp TIMESTAMP
)

-- í¬íŠ¸í´ë¦¬ì˜¤ í…Œì´ë¸”
portfolios (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  symbol VARCHAR,
  quantity INTEGER,
  avg_price DECIMAL,
  updated_at TIMESTAMP
)

-- ì„¤ì • í…Œì´ë¸”
settings (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  strategy_type VARCHAR,
  risk_level INTEGER,
  investment_amount DECIMAL,
  telegram_enabled BOOLEAN
)
```

## ğŸ” ë³´ì•ˆ ì•„í‚¤í…ì²˜

### ë³´ì•ˆ ê³„ì¸µ
```mermaid
graph TB
    subgraph "í´ë¼ì´ì–¸íŠ¸ ë³´ì•ˆ"
        A[HTTPS ê°•ì œ]
        B[JWT í† í° ê´€ë¦¬]
        C[ì…ë ¥ ë°ì´í„° ê²€ì¦]
    end
    
    subgraph "ì„œë²„ ë³´ì•ˆ"
        D[Helmet ë³´ì•ˆ í—¤ë”]
        E[Rate Limiting]
        F[CORS ì •ì±…]
        G[í™˜ê²½ ë³€ìˆ˜ ì•”í˜¸í™”]
    end
    
    subgraph "ë°ì´í„° ë³´ì•ˆ"
        H[Supabase RLS]
        I[API í‚¤ ì•”í˜¸í™”]
        J[ë¯¼ê° ë°ì´í„° ë§ˆìŠ¤í‚¹]
    end
    
    A --> D
    B --> E
    C --> F
    D --> H
    E --> I
    F --> J
```

## ğŸ“± ë°°í¬ ì•„í‚¤í…ì²˜

### ë°°í¬ í™˜ê²½
```mermaid
graph LR
    subgraph "ê°œë°œ í™˜ê²½"
        A[ë¡œì»¬ ê°œë°œ]
        B[Docker ì»¨í…Œì´ë„ˆ]
    end
    
    subgraph "ìŠ¤í…Œì´ì§• í™˜ê²½"
        C[GitHub Actions]
        D[í…ŒìŠ¤íŠ¸ ìë™í™”]
    end
    
    subgraph "í”„ë¡œë•ì…˜ í™˜ê²½"
        E[GitHub Pages]
        F[Netlify/Vercel]
        G[Docker Hub]
    end
    
    A --> C
    B --> D
    C --> E
    D --> F
    D --> G
```

## ğŸ”„ CI/CD íŒŒì´í”„ë¼ì¸

### ìë™í™” ì›Œí¬í”Œë¡œìš°
```yaml
# .github/workflows/deploy.yml
name: Deploy Christmas Trading
on:
  push:
    branches: [main]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Setup Node.js
        uses: actions/setup-node@v3
      - name: Install dependencies
        run: npm install
      - name: Run tests
        run: npm test
  
  deploy:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
```

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ ë§í¬
- [í”„ë¡œì íŠ¸ ê´€ë¦¬ ê°€ì´ë“œ](./46.%20í”„ë¡œì íŠ¸%20ê´€ë¦¬%20ë°%20ì„œë²„%20ì´ì „%20ê°€ì´ë“œ.md)
- [ì˜ì¡´ì„± ê´€ë¦¬ ë¬¸ì„œ](./48.%20ì˜ì¡´ì„±%20ê´€ë¦¬%20ë¬¸ì„œ.md)
- [ë³´ì•ˆ ê°€ì´ë“œë¼ì¸](./49.%20ë³´ì•ˆ%20ê°€ì´ë“œë¼ì¸.md)
- [í…ŒìŠ¤íŠ¸ ì „ëµ ë¬¸ì„œ](./50.%20í…ŒìŠ¤íŠ¸%20ì „ëµ%20ë¬¸ì„œ.md)

## ğŸ“ ì—…ë°ì´íŠ¸ ì´ë ¥
- 2024-12-25: ì´ˆê¸° ë¬¸ì„œ ìƒì„±
- í–¥í›„ ì—…ë°ì´íŠ¸ ì˜ˆì •

---
**âš ï¸ ì¤‘ìš”**: ì´ êµ¬ì¡°ë„ëŠ” í”„ë¡œì íŠ¸ì˜ ì „ì²´ ì•„í‚¤í…ì²˜ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€ ì‹œ ë°˜ë“œì‹œ ì´ ë¬¸ì„œë¥¼ ì—…ë°ì´íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤. 