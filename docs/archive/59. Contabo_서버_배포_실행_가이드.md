# ğŸš€ Contabo ì„œë²„ ì‹¤ì œ ë°°í¬ ì‹¤í–‰ ê°€ì´ë“œ

## ğŸ“‹ ì„œë²„ ì •ë³´
- **IP ì£¼ì†Œ**: 31.220.83.213
- **OS**: Ubuntu 22.04 LTS (Docker ì„¤ì¹˜ ì™„ë£Œ)
- **ìŠ¤í™**: CPU 3ì½”ì–´, RAM 8GB, SSD 150GB
- **ì ‘ì†**: SSH í‚¤ ê¸°ë°˜ ì¸ì¦

---

## ğŸ¯ 1ë‹¨ê³„: ì„œë²„ ì ‘ì† ë° í™˜ê²½ í™•ì¸

### SSH ì ‘ì†
```bash
ssh root@31.220.83.213
# ë˜ëŠ” ì‚¬ìš©ì ê³„ì •ì´ ìˆë‹¤ë©´
ssh christmas@31.220.83.213
```

### Docker í™˜ê²½ í™•ì¸
```bash
# Docker ë²„ì „ í™•ì¸
docker --version
docker-compose --version

# Docker ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
systemctl status docker

# ì‚¬ìš© ê°€ëŠ¥í•œ ë¦¬ì†ŒìŠ¤ í™•ì¸
free -h
df -h
```

---

## ğŸ¯ 2ë‹¨ê³„: í”„ë¡œì íŠ¸ íŒŒì¼ ì—…ë¡œë“œ

### Gitì„ í†µí•œ ì½”ë“œ ë°°í¬
```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ ìƒì„±
mkdir -p /home/christmas/christmas-trading
cd /home/christmas/christmas-trading

# Git ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/your-username/christmas-trading.git .

# ë˜ëŠ” ê¸°ì¡´ ì €ì¥ì†Œ ì—…ë°ì´íŠ¸
git pull origin main
```

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
# .env íŒŒì¼ ìƒì„± (env.example ê¸°ë°˜)
cp env.example .env

# ì‹¤ì œ í™˜ê²½ ë³€ìˆ˜ ê°’ ì„¤ì •
nano .env
```

---

## ğŸ¯ 3ë‹¨ê³„: ì„œë²„ìš© ì„¤ì • ì¡°ì •

### Docker Compose í™˜ê²½ ë³€ìˆ˜ í™•ì¸
```bash
# í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ í…ŒìŠ¤íŠ¸
source .env
echo $POSTGRES_PASSWORD
echo $JWT_SECRET
```

### ë„¤íŠ¸ì›Œí¬ ë° ë³¼ë¥¨ ì¤€ë¹„
```bash
# Docker ë„¤íŠ¸ì›Œí¬ ìƒì„±
docker network create christmas-network

# í•„ìš”í•œ ë””ë ‰í† ë¦¬ ìƒì„±
mkdir -p nginx/ssl nginx/logs monitoring/grafana
chmod 755 nginx/ssl nginx/logs monitoring/grafana
```

---

## ğŸ¯ 4ë‹¨ê³„: ì„œë¹„ìŠ¤ ë°°í¬ ì‹¤í–‰

### Dry Run í…ŒìŠ¤íŠ¸
```bash
# Docker Compose ì„¤ì • ê²€ì¦
docker-compose config

# ì´ë¯¸ì§€ ë¹Œë“œ í…ŒìŠ¤íŠ¸
docker-compose build christmas-backend
```

### ë‹¨ê³„ë³„ ì„œë¹„ìŠ¤ ì‹œì‘
```bash
# 1. ë°ì´í„°ë² ì´ìŠ¤ ì„œë¹„ìŠ¤ ì‹œì‘
docker-compose up -d postgres redis

# 2. ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸ (30ì´ˆ ëŒ€ê¸°)
sleep 30
docker-compose ps

# 3. ë°±ì—”ë“œ ì„œë¹„ìŠ¤ ì‹œì‘
docker-compose up -d christmas-backend

# 4. ì›¹ ì„œë¹„ìŠ¤ ì‹œì‘
docker-compose up -d wordpress n8n

# 5. í”„ë¡ì‹œ ë° ëª¨ë‹ˆí„°ë§ ì‹œì‘
docker-compose up -d nginx prometheus grafana
```

### ì „ì²´ ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
```bash
# ëª¨ë“  ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
docker-compose ps

# ë¡œê·¸ í™•ì¸
docker-compose logs -f christmas-backend
```

---

## ğŸ¯ 5ë‹¨ê³„: ì„œë¹„ìŠ¤ ì ‘ì† í…ŒìŠ¤íŠ¸

### í—¬ìŠ¤ì²´í¬ ì‹¤í–‰
```bash
# ë°±ì—”ë“œ API í…ŒìŠ¤íŠ¸
curl -f http://31.220.83.213:8000/health

# Nginx í”„ë¡ì‹œ í…ŒìŠ¤íŠ¸
curl -f http://31.220.83.213/health

# ì„œë¹„ìŠ¤ë³„ ì ‘ì† í…ŒìŠ¤íŠ¸
curl -I http://31.220.83.213/
```

### ë¸Œë¼ìš°ì € ì ‘ì† í™•ì¸
- **ë©”ì¸ API**: http://31.220.83.213/
- **ë°±ì—”ë“œ ì§ì ‘**: http://31.220.83.213:8000/
- **WordPress**: http://blog.31.220.83.213/
- **n8n ìë™í™”**: http://n8n.31.220.83.213/
- **Grafana ëª¨ë‹ˆí„°ë§**: http://monitoring.31.220.83.213/
- **Prometheus**: http://31.220.83.213:9090/

---

## ğŸ¯ 6ë‹¨ê³„: 24ì‹œê°„ ìš´ì˜ ì„¤ì •

### ìë™ ì‹œì‘ ì„¤ì •
```bash
# Docker ì„œë¹„ìŠ¤ ìë™ ì‹œì‘ í™œì„±í™”
systemctl enable docker

# ì‹œìŠ¤í…œ ì¬ë¶€íŒ… ì‹œ ì»¨í…Œì´ë„ˆ ìë™ ì‹œì‘
# (docker-compose.ymlì— restart: unless-stopped ì„¤ì •ë¨)
```

### ëª¨ë‹ˆí„°ë§ ì„¤ì •
```bash
# ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§
htop
docker stats

# ë¡œê·¸ ë¡œí…Œì´ì…˜ ì„¤ì •
sudo nano /etc/logrotate.d/docker-containers
```

### ë°±ì—… ìŠ¤í¬ë¦½íŠ¸ ì„¤ì •
```bash
# ë°±ì—… ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
chmod +x backup.sh

# ì¼ì¼ ë°±ì—… í¬ë¡ ì¡ ì„¤ì •
crontab -e
# ì¶”ê°€: 0 2 * * * /home/christmas/christmas-trading/backup.sh
```

---

## ğŸ¯ 7ë‹¨ê³„: ë³´ì•ˆ ì„¤ì •

### ë°©í™”ë²½ ì„¤ì •
```bash
# UFW ë°©í™”ë²½ í™œì„±í™”
ufw enable

# í•„ìš”í•œ í¬íŠ¸ë§Œ ê°œë°©
ufw allow ssh
ufw allow 80
ufw allow 443
ufw allow 8000  # ë°±ì—”ë“œ ì§ì ‘ ì ‘ì†ìš© (ì„ íƒì‚¬í•­)

# ë°©í™”ë²½ ìƒíƒœ í™•ì¸
ufw status
```

### SSL ì¸ì¦ì„œ ì„¤ì • (ì„ íƒì‚¬í•­)
```bash
# Let's Encrypt ì„¤ì¹˜
apt install certbot python3-certbot-nginx

# ë„ë©”ì¸ì´ ìˆëŠ” ê²½ìš° SSL ì¸ì¦ì„œ ë°œê¸‰
# certbot --nginx -d yourdomain.com
```

---

## ğŸ¯ 8ë‹¨ê³„: ì„±ëŠ¥ ìµœì í™”

### ì‹œìŠ¤í…œ ìµœì í™”
```bash
# ìŠ¤ì™‘ íŒŒì¼ ì„¤ì • (ë©”ëª¨ë¦¬ ë¶€ì¡± ë°©ì§€)
fallocate -l 2G /swapfile
chmod 600 /swapfile
mkswap /swapfile
swapon /swapfile
echo '/swapfile none swap sw 0 0' >> /etc/fstab
```

### Docker ìµœì í™”
```bash
# Docker ë¡œê·¸ í¬ê¸° ì œí•œ ì„¤ì •
nano /etc/docker/daemon.json
```

---

## ğŸš¨ ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤
1. **í¬íŠ¸ ì¶©ëŒ**: `ss -tuln | grep :í¬íŠ¸ë²ˆí˜¸`ë¡œ í™•ì¸
2. **ë©”ëª¨ë¦¬ ë¶€ì¡±**: `free -h`ë¡œ í™•ì¸, ìŠ¤ì™‘ íŒŒì¼ ì¦ê°€
3. **ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±**: `df -h`ë¡œ í™•ì¸, ë¡œê·¸ ì •ë¦¬
4. **ì»¨í…Œì´ë„ˆ ì‹œì‘ ì‹¤íŒ¨**: `docker-compose logs ì„œë¹„ìŠ¤ëª…`ìœ¼ë¡œ ë¡œê·¸ í™•ì¸

### ë¡œê·¸ í™•ì¸ ëª…ë ¹ì–´
```bash
# ì „ì²´ ì„œë¹„ìŠ¤ ë¡œê·¸
docker-compose logs -f

# íŠ¹ì • ì„œë¹„ìŠ¤ ë¡œê·¸
docker-compose logs -f christmas-backend

# ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
htop
docker stats
```

---

## ğŸ“ ì§€ì› ë° ë¬¸ì˜

ë°°í¬ ê³¼ì •ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•œ ê²½ìš°:
- GitHub Issues: [í”„ë¡œì íŠ¸ ì €ì¥ì†Œ]
- ì´ë©”ì¼: support@christmas-trading.com
- í…”ë ˆê·¸ë¨: @christmas_trading_support

---

**ğŸ„ Christmas Trading Team**  
*ìµœì¢… ì—…ë°ì´íŠ¸: 2024-12-25* 