# λ°”μ΄λ‚Έμ¤ μ•”νΈν™”ν κ±°λ μ‹μ¤ν… λ…μ„Έμ„

## π“‹ λ¬Έμ„ μ •λ³΄
- **λ¬Έμ„λ…**: λ°”μ΄λ‚Έμ¤ μ•”νΈν™”ν κ±°λ μ‹μ¤ν… λ…μ„Έμ„ (Binance Crypto Trading System Specification)
- **μ‘μ„±μΌ**: 2025-06-27 (ν•κµ­ν¬μμ¦κ¶ β†’ λ°”μ΄λ‚Έμ¤ μ „ν™)
- **λ²„μ „**: v2.0 (Binance Edition)
- **μ°μ„ μμ„**: CRITICAL
- **μƒνƒ**: ν™μ„±ν™” (Active) - λ°”μ΄λ‚Έμ¤ API ν†µν•©

## π― λ©μ 
Christmas Trading ν”λ«νΌμ λ°”μ΄λ‚Έμ¤ μ•”νΈν™”ν κ±°λ μ‹μ¤ν… μ „λ°μ— λ€ν• κΈ°μ μ  λ…μ„Έμ™€ κµ¬ν„ λ°©λ²•μ„ μ •μν•©λ‹λ‹¤.

## π—οΈ μ‹μ¤ν… μ•„ν‚¤ν…μ²

### 1. λ°”μ΄λ‚Έμ¤ μ•”νΈν™”ν κ±°λ μ‹μ¤ν… ν•µμ‹¬ μ»΄ν¬λ„νΈ
```
λ°”μ΄λ‚Έμ¤ μ•”νΈν™”ν κ±°λ μ‹μ¤ν… κµ¬μ΅°:
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    Frontend (React) - 24/7 λ€μ‘            β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  CryptoDashboardReact.tsx  β”‚  BinanceConnectionTest.tsx   β”‚
β”‚  - μ•”νΈν™”ν κ±°λ UI μ»΄ν¬λ„νΈ   β”‚  - λ°”μ΄λ‚Έμ¤ API μ—°κ²° ν…μ¤νΈ   β”‚
β”‚  - μ•μ „ν• μ•”νΈν™”ν κ±°λ λ²„νΌ   β”‚  - μ‹¤μ‹κ°„ μƒνƒ λ¨λ‹ν„°λ§       β”‚
β”‚  - 24/7 μ‹μ¥ λ€μ‘ μΈν„°νμ΄μ¤   β”‚  - Rate Limiting λ¨λ‹ν„°λ§     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    Service Layer (μ•”νΈν™”ν νΉν™”)            β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚       cryptoService.ts         β”‚  cryptoTradingConflictManager.tsβ”‚
β”‚   - μ•”νΈν™”ν κ±°λ μ”μ²­ μ²λ¦¬     β”‚   - λ™μ‹ μ•”νΈν™”ν κ±°λ λ°©μ§€    β”‚
β”‚   - λ°”μ΄λ‚Έμ¤ API λ°μ΄ν„° ν†µν•©   β”‚   - μ¶©λ κ°μ§€ μ‹μ¤ν…          β”‚
β”‚   - Mock/Real λ°μ΄ν„° μ „ν™      β”‚   - λ€μ• μ½”μΈ μ¶”μ²            β”‚
β”‚   - 24/7 μ‹μ¥ λ°μ΄ν„° μ²λ¦¬      β”‚   - λ†’μ€ λ³€λ™μ„± λ³΄νΈ λ΅μ§     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    API Integration (ν•μ΄λΈλ¦¬λ“)             β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚         binanceAPI.ts          β”‚       supabase.ts         β”‚
β”‚   - λ°”μ΄λ‚Έμ¤ REST API ν†µν•©     β”‚   - μ•”νΈν™”ν λ°μ΄ν„°λ² μ΄μ¤    β”‚
β”‚   - μ‹¤μ‹κ°„ μ•”νΈν™”ν μ‹μ„Έ       β”‚   - μ‚¬μ©μ ν¬νΈν΄λ¦¬μ¤ κ΄€λ¦¬   β”‚
β”‚   - Spot κ±°λ μ²λ¦¬             β”‚   - μ‹¤μ‹κ°„ κµ¬λ… μ‹μ¤ν…       β”‚
β”‚   - WebSocket μ‹¤μ‹κ°„ λ°μ΄ν„°    β”‚   - μ•”νΈν™”ν μ£Όλ¬Έ νμ¤ν† λ¦¬   β”‚
β”‚   - HMAC SHA256 μΈμ¦           β”‚   - RLS λ³΄μ• μ •μ±…           β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## π”„ κ±°λ ν”λ΅μ°

### 2. λ°”μ΄λ‚Έμ¤ μ•”νΈν™”ν μ•μ „ν• κ±°λ μ²λ¦¬ κ³Όμ •
```typescript
// μ•”νΈν™”ν κ±°λ μ”μ²­ β†’ μ¶©λ κ°μ§€ β†’ μ•μ „ κ²€μ¦ β†’ λ°”μ΄λ‚Έμ¤ μ£Όλ¬Έ μ²λ¦¬ β†’ κ²°κ³Ό λ°ν™
async function safePlaceCryptoOrder(
  userId: string, 
  symbol: string,              // 'BTCUSDT', 'ETHUSDT'
  side: 'BUY' | 'SELL', 
  type: 'MARKET' | 'LIMIT',
  quantity: number,            // DECIMAL(20,8) μ •λ°€λ„
  price?: number,              // LIMIT μ£Όλ¬Έμ‹
  timeInForce?: 'GTC' | 'IOC' | 'FOK'
): Promise<CryptoTradeResult>
```

**λ°”μ΄λ‚Έμ¤ νΉν™” λ‹¨κ³„λ³„ μ²λ¦¬:**
1. **μ•”νΈν™”ν κ±°λ μ”μ²­ μ ‘μ** - μ‚¬μ©μ μ…λ ¥ κ²€μ¦ (24/7 λ€μ‘)
2. **λ°”μ΄λ‚Έμ¤ Rate Limiting μ²΄ν¬** - λ¶„λ‹Ή 1200 μ”μ²­ μ ν• ν™•μΈ
3. **μ¶©λ κ°μ§€ μ‹μ¤ν…** - λ™μ‹ μ•”νΈν™”ν κ±°λ λ°©μ§€ λ΅μ§
4. **λ³€λ™μ„± μ•μ „ κ²€μ¦** - λ†’μ€ μ•”νΈν™”ν λ³€λ™μ„± λ³΄νΈ
5. **λ°”μ΄λ‚Έμ¤ API μ£Όλ¬Έ μ²λ¦¬** - HMAC SHA256 μΈμ¦ + Spot κ±°λ
6. **μ‹¤μ‹κ°„ μ£Όλ¬Έ μƒνƒ μ¶”μ ** - WebSocket κΈ°λ° μ²΄κ²° λ¨λ‹ν„°λ§
7. **κ²°κ³Ό λ°ν™** - μ„±κ³µ/μ‹¤ν¨ λ©”μ‹μ§€ + λ€μ• μ½”μΈ μ μ•

### 3. μ•”νΈν™”ν λ™μ‹ κ±°λ λ°©μ§€ μ‹μ¤ν…
```typescript
interface CryptoTradeConflict {
  conflictType: 'same_symbol' | 'volatility_risk' | 'timing_collision' | 'market_impact';
  affectedUsers: string[];
  symbol: string;              // 'BTCUSDT', 'ETHUSDT'
  baseAsset: string;          // 'BTC', 'ETH'
  message: string;
  severity: 'low' | 'medium' | 'high' | 'critical';
  currentVolatility: number;   // 24μ‹κ°„ λ³€λ™λ¥ 
  marketCap: number;          // μ‹κ°€μ΄μ•΅ (USD)
}
```

**μ•”νΈν™”ν νΉν™” μ¶©λ κ°μ§€ κ·μΉ™:**
- **λ™μΌ μ‹¬λ³Ό μ ν•**: μµλ€ 5λ…κΉμ§€ λ™μ‹ κ±°λ ν—μ© (λ†’μ€ μ λ™μ„±)
- **νƒ€μ΄λ° μ¶©λ**: 1μ΄ λ‚΄ λ™μ‹ μ£Όλ¬Έ μ‹ μ§€μ—° κ¶μ¥ (λΉ λ¥Έ μ‹μ¥)
- **λ³€λ™μ„± λ³΄νΈ**: 24μ‹κ°„ λ³€λ™λ¥  10% μ΄κ³Ό μ‹ κ²½κ³ 
- **AI ν΄λ¬μ¤ν„°λ§**: μ „λµ μ μ‚¬λ„ 70% μ΄μƒ μ‹ λ€μ• μ½”μΈ μ κ³µ
- **μ‹μ¥ μν–¥λ„**: κ±°λλ‰ λ€λΉ„ μ£Όλ¬Έ κ·λ¨ λ¶„μ„

## π¦ λ°”μ΄λ‚Έμ¤ API ν†µν•© μ‹μ¤ν…

### 4. λ°”μ΄λ‚Έμ¤ API μ—°λ™ (24/7 κΈ€λ΅λ² μ‹μ¥)
```typescript
// ν™κ²½λ³„ μ„¤μ • (ν…μ¤νΈλ„·/λ©”μΈλ„·)
const binanceAPI = new BinanceAPI();

// ν…μ¤νΈλ„·: https://testnet.binance.vision
// λ©”μΈλ„·: https://api.binance.com

// ν™κ²½ λ³€μ κΈ°λ° μλ™ μ „ν™
const baseURL = import.meta.env.VITE_BINANCE_TESTNET === 'true' 
  ? import.meta.env.VITE_BINANCE_TESTNET_URL
  : import.meta.env.VITE_BINANCE_BASE_URL;
```

**λ°”μ΄λ‚Έμ¤ νΉν™” μ£Όμ” κΈ°λ¥:**
- **HMAC SHA256 μΈμ¦**: API ν‚¤ + Secret ν‚¤ κΈ°λ° λ³΄μ• μΈμ¦
- **Rate Limiting κ΄€λ¦¬**: λ¶„λ‹Ή 1200 μ”μ²­ μλ™ μ ν• κ΄€λ¦¬
- **μ‹¤μ‹κ°„ WebSocket**: λ°€λ¦¬μ΄ λ‹¨μ„ μ‹¤μ‹κ°„ μ‹μ„Έ μμ‹ 
- **24/7 μ‹μ¥ λ€μ‘**: μ‹κ°„ μ μ•½ μ—†λ” κΈ€λ΅λ² μ•”νΈν™”ν μ‹μ¥
- **λ†’μ€ μ •λ°€λ„**: μ†μμ  8μλ¦¬ μ•”νΈν™”ν κ±°λ μ§€μ›
- **μ‹μ„Έ μ΅°ν**: μ‹¤μ‹κ°„ μ•”νΈν™”ν κ°€κ²© μ •λ³΄ (BTCUSDT, ETHUSDT)
- **μ£Όλ¬Έ μ²λ¦¬**: λ§¤μ/λ§¤λ„ μ£Όλ¬Έ (Spot κ±°λ)
- **κ³„μΆ μ΅°ν**: μ”κ³  λ° λ³΄μ  μ•”νΈν™”ν ν™•μΈ

### 5. λ°μ΄ν„° μ°μ„ μμ„ μ‹μ¤ν…
```typescript
// λ°μ΄ν„° μ†μ¤ μ°μ„ μμ„: λ°”μ΄λ‚Έμ¤ API β†’ Supabase β†’ Mock λ°μ΄ν„°
const dataFlow = {
  primary: "Binance REST API",
  secondary: "Binance WebSocket", 
  fallback1: "Supabase Database",
  fallback2: "Mock Crypto Data"
};
```

## π›΅οΈ λ³΄μ• λ° μ„ν— κ΄€λ¦¬

### 6. ν™κ²½λ³€μ κ΄€λ¦¬
```env
# λ°”μ΄λ‚Έμ¤ API (Testnet/Mainnet)
VITE_BINANCE_API_KEY=your_binance_api_key
VITE_BINANCE_SECRET_KEY=your_binance_secret_key
VITE_BINANCE_TESTNET=true  # true: Testnet, false: Mainnet
VITE_BINANCE_BASE_URL=https://api.binance.com
VITE_BINANCE_TESTNET_URL=https://testnet.binance.vision

# λ³΄μ• μ„¤μ •
VITE_ENABLE_MOCK_DATA=true  # true: Mock μ•”νΈν™”ν λ°μ΄ν„°, false: μ‹¤μ  API
```

### 7. μ¤λ¥ μ²λ¦¬ λ° λ³µκµ¬
```typescript
// κ³„μΈµμ  μ¤λ¥ μ²λ¦¬
try {
  // 1μ°¨: λ°”μ΄λ‚Έμ¤ API μ‹λ„
  const result = await binanceAPI.getTickerPrice(symbol);
} catch (apiError) {
  // 2μ°¨: Supabase λ°μ΄ν„° μ‚¬μ©
  const cachedData = await supabase.from('crypto_pairs').select('*');
} catch (dbError) {
  // 3μ°¨: Mock μ•”νΈν™”ν λ°μ΄ν„° μ‚¬μ©
  return mockCryptoData;
}
```

## π“ μ„±λ¥ λ° λ¨λ‹ν„°λ§

### 8. μ‹¤μ‹κ°„ λ°μ΄ν„° μ‹μ¤ν…
```typescript
// 24/7 μ•”νΈν™”ν μ‹μ¥ (μ‹κ°„ μ μ•½ μ—†μ)
const isCryptoMarketOpen = (): { isOpen: boolean; message: string } => {
  // μ•”νΈν™”ν μ‹μ¥: 24μ‹κ°„ 365μΌ μ΄μ
  // μƒμ‹: 1μ΄ κ°„κ²© μ—…λ°μ΄νΈ
  // λ†’μ€ λ³€λ™μ„±: μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§
  return { isOpen: true, message: '24/7 κΈ€λ΅λ² μ•”νΈν™”ν μ‹μ¥ μ΄μ μ¤‘' };
}
```

**μ„±λ¥ μµμ ν™”:**
- **Rate Limiting**: API νΈμ¶ κ°„κ²© μ΅°μ • (100ms μ§€μ—°)
- **μΊμ‹± μ‹μ¤ν…**: Supabase λ°μ΄ν„° μλ™ μ €μ¥
- **μ‹¤μ‹κ°„ κµ¬λ…**: WebSocket κΈ°λ° λ°μ΄ν„° μ—…λ°μ΄νΈ

### 9. κ±°λ ν„ν™© λ¨λ‹ν„°λ§
```typescript
// μ‹¤μ‹κ°„ κ±°λ ν„ν™© μ΅°ν
const getActiveCryptoTradingStatus = (): CryptoTradingStatus[] => {
  return cryptoTradingConflictManager.getActiveTradeStatus();
}

interface CryptoTradingStatus {
  symbol: string;           // 'BTCUSDT', 'ETHUSDT'
  baseAsset: string;       // 'BTC', 'ETH' 
  userCount: number;
  recentOrders: number;
  volatility24h: number;   // 24μ‹κ°„ λ³€λ™λ¥ 
}
```

## π”§ κΈ°μ  λ…μ„Έ

### 10. μ£Όμ” νƒ€μ… μ •μ
```typescript
// μ£Όμ‹ λ°μ΄ν„° μΈν„°νμ΄μ¤
interface StockData {
  symbol: string;
  name: string;
  current_price: number;
  price_change: number;
  price_change_percent: number;
  volume: number;
  last_updated: string;
}

// κ±°λ μ”μ²­ μΈν„°νμ΄μ¤
interface TradeRequest {
  userId: string;
  stockCode: string;
  orderType: 'buy' | 'sell';
  quantity: number;
  price?: number;
  timestamp: number;
}

// κ±°λ κ²°κ³Ό μΈν„°νμ΄μ¤
interface TradeResult {
  success: boolean;
  message: string;
  conflict?: TradeConflict;
  alternatives?: AlternativeStock[];
}
```

### 11. μ»΄ν¬λ„νΈ κµ¬μ΅°
```typescript
// κ±°λ UI μ»΄ν¬λ„νΈ
const StaticDashboardReact: React.FC = () => {
  const [isTrading, setIsTrading] = useState(false);
  const [stockCode, setStockCode] = useState('005930');
  const [quantity, setQuantity] = useState(10);
  const [tradeMessage, setTradeMessage] = useState('');

  const handleTrade = async (orderType: 'buy' | 'sell') => {
    // μ•μ „ν• κ±°λ μ²λ¦¬ λ΅μ§
  };
};
```

## π“ ν™•μ¥μ„± κ³ λ ¤μ‚¬ν•­

### 12. ν–¥ν›„ κ°μ„  κ³„ν
1. **AI μ „λµ κ³ λ„ν™”**: κ°λ³„ μ‚¬μ©μλ³„ λ§μ¶¤ν• μ§€ν‘ μ„¤μ •
2. **μ‹¤μ‹κ°„ μ•λ¦Ό**: WebSocket κΈ°λ° κ±°λ μƒνƒ μ•λ¦Ό
3. **ν¬νΈν΄λ¦¬μ¤ κ΄€λ¦¬**: μλ™ λ¦¬λ°Έλ°μ‹± μ‹μ¤ν…
4. **λ°±ν…μ¤ν…**: μ „λµ μ„±κ³Ό λ¶„μ„ λ„κµ¬
5. **μ†μ… κΈ°λ¥**: μΉκµ¬ μ΄λ€ λ° λ¦¬λ”λ³΄λ“ μ‹μ¤ν…

### 13. μ„±λ¥ λ²¤μΉλ§ν¬
- **API μ‘λ‹µ μ‹κ°„**: < 1μ΄ (ν•κµ­ν¬μμ¦κ¶ API)
- **UI λ°μ‘μ„±**: < 200ms (React μƒνƒ μ—…λ°μ΄νΈ)
- **λ°μ΄ν„° λ™κΈ°ν™”**: 1μ΄ κ°„κ²© (μ¥μ¤‘ μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ)
- **λ™μ‹ μ‚¬μ©μ**: μµλ€ 1,000λ… (μ¶”μ •)

## πƒβ€β™‚οΈ λ°°ν¬ λ° μ΄μ

### 14. λ°°ν¬ ν”„λ΅μ„Έμ¤
```bash
# λΉλ“ λ° λ°°ν¬
npm run build
npm run deploy  # Vercel μλ™ λ°°ν¬

# ν™κ²½ ν™•μΈ
npm run test:api  # API μ—°κ²° ν…μ¤νΈ
npm run test:trading  # κ±°λ μ‹μ¤ν… ν…μ¤νΈ
```

### 15. λ¨λ‹ν„°λ§ μ§€ν‘
- **API μ„±κ³µλ¥ **: > 99%
- **κ±°λ μ¶©λ λ°©μ§€μ¨**: > 95%
- **μ‹μ¤ν… κ°€μ©μ„±**: > 99.9%
- **λ°μ΄ν„° μ •ν™•λ„**: > 99.5%

---

## π“ λ³€κ²½ μ΄λ ¥
- **v1.0** (2025-06-24): μ΄κΈ° κ±°λ μ‹μ¤ν… λ…μ„Έμ„ μ‘μ„±
- ν•κµ­ν¬μμ¦κ¶ API ν†µν•© μ™„λ£
- λ™μ‹ κ±°λ λ°©μ§€ μ‹μ¤ν… κµ¬ν„
- μ•μ „ν• κ±°λ UI μ»΄ν¬λ„νΈ μ™„μ„±

## π”— κ΄€λ ¨ λ¬Έμ„
- [API ν†µν•© κ°€μ΄λ“](../guides/API_INTEGRATION_GUIDE.md)
- [μ„ν— κ΄€λ¦¬ λ…μ„Έμ„](RISK_MANAGEMENT_SPEC.md)
- [λ¬Έμ„ λ§µ](../DOCUMENT_MAP.md)

---
*μ΄ λ¬Έμ„λ” Christmas Trading ν”„λ΅μ νΈμ κ±°λ μ‹μ¤ν… ν•µμ‹¬ λ…μ„Έμ„μ…λ‹λ‹¤.*