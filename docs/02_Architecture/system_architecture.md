# ğŸ„ Christmas Trading í”„ë¡œì íŠ¸ êµ¬ì¡°ë„ (2025-05-30)

## ğŸ“Š **ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Christmas Trading AI System                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   Frontend      â”‚  â”‚   Backend       â”‚  â”‚   Database      â”‚    â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚    â”‚
â”‚  â”‚ ğŸŒ Netlify      â”‚â”€â†’â”‚ ğŸ³ Docker      â”‚â”€â†’â”‚ ğŸ—„ï¸ Supabase    â”‚    â”‚
â”‚  â”‚ christmas-      â”‚  â”‚ 31.220.83.213  â”‚  â”‚ PostgreSQL      â”‚    â”‚
â”‚  â”‚ protocol.app    â”‚  â”‚ Ubuntu 22.04    â”‚  â”‚ qehzzsxzjijf... â”‚    â”‚
â”‚  â”‚                 â”‚  â”‚ Port 8000       â”‚  â”‚                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â”‚                     â”‚                     â”‚             â”‚
â”‚           â”‚                     â”‚                     â”‚             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ React + Vite    â”‚  â”‚ Node.js + Expressâ”‚  â”‚ Tables:         â”‚    â”‚
â”‚  â”‚ TypeScript      â”‚  â”‚ WebSocket       â”‚  â”‚ - users âœ…      â”‚    â”‚
â”‚  â”‚ TailwindCSS     â”‚  â”‚ Auth + JWT      â”‚  â”‚ - ai_learning âœ…â”‚    â”‚
â”‚  â”‚ Chart.js        â”‚  â”‚ KIS API         â”‚  â”‚ - ai_strategy âœ…â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—‚ï¸ **í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°**

```
christmas/
â”œâ”€â”€ ğŸ“ frontend (web-dashboard/)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/           # React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ services/            # API ì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ utils/               # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”‚   â””â”€â”€ types/               # TypeScript íƒ€ì…
â”‚   â”œâ”€â”€ public/                  # ì •ì  íŒŒì¼
â”‚   â”œâ”€â”€ dist/                    # ë¹Œë“œ ì¶œë ¥ (Netlify ë°°í¬)
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ ğŸ“ backend/
â”‚   â”œâ”€â”€ routes/                  # API ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ auth.js             # ì¸ì¦ API
â”‚   â”‚   â”œâ”€â”€ trading.js          # ê±°ë˜ API
â”‚   â”‚   â”œâ”€â”€ users.js            # ì‚¬ìš©ì API
â”‚   â”‚   â””â”€â”€ setup.js            # ì„¤ì • API
â”‚   â”œâ”€â”€ services/               # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ supabaseAuth.js     # ì¸ì¦ ì„œë¹„ìŠ¤ âœ…
â”‚   â”‚   â”œâ”€â”€ kisApi.js           # ì¦ê¶Œì‚¬ API
â”‚   â”‚   â””â”€â”€ aiTradingService.js # AI ê±°ë˜ ë¡œì§
â”‚   â”œâ”€â”€ models/                 # ë°ì´í„° ëª¨ë¸
â”‚   â”œâ”€â”€ middleware/             # Express ë¯¸ë“¤ì›¨ì–´
â”‚   â”œâ”€â”€ config/                 # ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ server.js               # ë©”ì¸ ì„œë²„ âœ…
â”‚   â”œâ”€â”€ websocket.js            # WebSocket ì„œë²„
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ ğŸ“ database (Supabase)
â”‚   â”œâ”€â”€ scripts/                # DB ìŠ¤í¬ë¦½íŠ¸
â”‚   â”‚   â”œâ”€â”€ fix-users-table-corrected.sql âœ…
â”‚   â”‚   â”œâ”€â”€ ai-tables-fix-corrected.sql âœ…
â”‚   â”‚   â””â”€â”€ *.sql
â”‚   â””â”€â”€ supabase/               # Supabase ì„¤ì •
â”‚
â”œâ”€â”€ ğŸ“ docs/                    # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”‚   â”œâ”€â”€ PM_Session*.md          # PM ê´€ë¦¬ ë¬¸ì„œ
â”‚   â”œâ”€â”€ WBS*.md                 # ì‘ì—… ë¶„í•´ êµ¬ì¡°
â”‚   â””â”€â”€ *.md                    # ê¸°íƒ€ ë¬¸ì„œ
â”‚
â”œâ”€â”€ ğŸ“ monitoring/              # ëª¨ë‹ˆí„°ë§ ë„êµ¬
â”œâ”€â”€ ğŸ“ nginx/                   # ì›¹ ì„œë²„ ì„¤ì •
â”œâ”€â”€ ğŸ“ logs/                    # ë¡œê·¸ íŒŒì¼
â”œâ”€â”€ ğŸ“ tests/                   # í…ŒìŠ¤íŠ¸ íŒŒì¼
â”œâ”€â”€ ğŸ“ config/                  # í™˜ê²½ ì„¤ì •
â”‚   â””â”€â”€ production.env.template
â”‚
â”œâ”€â”€ ğŸ³ Docker ê´€ë ¨
â”‚   â”œâ”€â”€ docker-compose.yml      # ë©”ì¸ Docker ì„¤ì •
â”‚   â”œâ”€â”€ docker-compose.*.yml    # í™˜ê²½ë³„ ì„¤ì •
â”‚   â””â”€â”€ Dockerfile.*           # ê°ì¢… Dockerfile
â”‚
â”œâ”€â”€ ğŸ“„ ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ .env                    # í™˜ê²½ ë³€ìˆ˜ (ë³´ì•ˆ)
â”‚   â”œâ”€â”€ env.txt                 # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â”‚   â”œâ”€â”€ netlify.toml            # Netlify ì„¤ì • âœ…
â”‚   â”œâ”€â”€ package.json            # ë£¨íŠ¸ íŒ¨í‚¤ì§€ ì •ë³´
â”‚   â””â”€â”€ .gitignore
â”‚
â””â”€â”€ ğŸ“„ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
    â”œâ”€â”€ deploy.sh               # Linux ë°°í¬
    â”œâ”€â”€ deploy-*.ps1            # Windows ë°°í¬
    â””â”€â”€ *.py                    # Python ë„êµ¬ë“¤
```

## ğŸ”§ **ê¸°ìˆ  ìŠ¤íƒ í˜„í™©**

### **Frontend (í”„ë¡ íŠ¸ì—”ë“œ)**
```
ğŸ“± Framework: React 18 + Vite
ğŸ“ Language: TypeScript
ğŸ¨ Styling: TailwindCSS
ğŸ“Š Charts: Chart.js / Recharts
ğŸ”— HTTP Client: Axios
ğŸŒ Deployment: Netlify (ìë™ ë°°í¬)
ğŸ“ URL: https://christmas-protocol.netlify.app
```

### **Backend (ë°±ì—”ë“œ)**
```
âš¡ Runtime: Node.js v22.13.1
ğŸ–¥ï¸ Framework: Express.js
ğŸ”Œ WebSocket: ws library
ğŸ” Authentication: JWT + bcryptjs
ğŸ—„ï¸ Database Client: @supabase/supabase-js âœ…
ğŸ“¡ External APIs: í•œêµ­íˆ¬ìì¦ê¶Œ KIS API
ğŸ³ Deployment: Docker on Ubuntu 22.04
ğŸ“ Server: 31.220.83.213:8000
```

### **Database (ë°ì´í„°ë² ì´ìŠ¤)**
```
ğŸ—„ï¸ Service: Supabase (PostgreSQL)
ğŸ”— URL: https://qehzzsxzjijfzqkysazc.supabase.co
ğŸ“‹ Tables:
  âœ… users (ì¸ì¦ ì‹œìŠ¤í…œ ì™„ë£Œ)
  âœ… ai_learning_data (AI í•™ìŠµ ë°ì´í„°)
  âœ… ai_strategy_performance (AI ì„±ëŠ¥ ë°ì´í„°)
  âœ… orders, trades, positions (ê±°ë˜ ë°ì´í„°)
```

### **DevOps & ë°°í¬**
```
ğŸ”„ CI/CD: 
  - Frontend: Netlify (Git ì—°ë™ ìë™ ë°°í¬)
  - Backend: Docker Compose (ìˆ˜ë™ ë°°í¬)
ğŸ“ Version Control: Git + GitHub
ğŸ³ Containerization: Docker + Docker Compose
ğŸ–¥ï¸ Server: Ubuntu 22.04 LTS (31.220.83.213)
ğŸ“Š Monitoring: ê¸°ë³¸ ë¡œê¹… (ê³ ë„í™” í•„ìš”)
```

## ğŸ”— **ì‹œìŠ¤í…œ ì—°ë™ íë¦„**

### **ì‚¬ìš©ì ì¸ì¦ í”Œë¡œìš°**
```
1. ì‚¬ìš©ì â†’ Frontend (ë¡œê·¸ì¸ í¼)
2. Frontend â†’ Backend (/api/auth/login)
3. Backend â†’ Supabase (ì‚¬ìš©ì ê²€ì¦)
4. Backend â†’ Frontend (JWT í† í° ë°˜í™˜)
5. Frontend â†’ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì €ì¥
6. ì´í›„ API í˜¸ì¶œ ì‹œ Authorization í—¤ë”ì— í† í° í¬í•¨
```

### **AI ê±°ë˜ í”Œë¡œìš°**
```
1. Frontend â†’ Backend (ê±°ë˜ ìš”ì²­)
2. Backend â†’ AI Service (ì „ëµ ë¶„ì„)
3. AI Service â†’ Supabase (í•™ìŠµ ë°ì´í„° ì¡°íšŒ)
4. AI Service â†’ Backend (ê±°ë˜ ì‹ í˜¸)
5. Backend â†’ KIS API (ì‹¤ì œ ì£¼ë¬¸)
6. Backend â†’ Supabase (ê±°ë˜ ê²°ê³¼ ì €ì¥)
7. Backend â†’ Frontend (ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸)
```

### **ë°ì´í„° ì‹¤ì‹œê°„ ë™ê¸°í™”**
```
1. Backend WebSocket Server â†” Frontend
2. ê±°ë˜ ìƒíƒœ, AI ë¶„ì„ ê²°ê³¼, ê³„ì¢Œ ì •ë³´ ì‹¤ì‹œê°„ ì „ì†¡
3. Chart.jsë¥¼ í†µí•œ ì‹¤ì‹œê°„ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
```

## ğŸ“ˆ **í˜„ì¬ ì‹œìŠ¤í…œ ìƒíƒœ**

### **âœ… ì •ìƒ ë™ì‘ êµ¬ì„±ìš”ì†Œ**
- Frontend: Netlify ë°°í¬ ì™„ë£Œ, ë¹Œë“œ ì •ìƒ
- Database: Supabase ì™„ì „ ë³µêµ¬, ëª¨ë“  í…Œì´ë¸” ì •ìƒ
- Local Backend: localhost:8000 ì •ìƒ ë™ì‘
- ì¸ì¦ ì‹œìŠ¤í…œ: JWT ê¸°ë°˜ ì™„ì „ êµ¬í˜„
- AI í…Œì´ë¸”: ìŠ¤í‚¤ë§ˆ ì™„ì„±, í•™ìŠµ ì¤€ë¹„ ì™„ë£Œ

### **ğŸ”„ ì—…ë°ì´íŠ¸ í•„ìš” êµ¬ì„±ìš”ì†Œ**
- Remote Backend: 31.220.83.213 ì„œë²„ ë™ê¸°í™” í•„ìš”
- Docker ì»¨í…Œì´ë„ˆ: ìµœì‹  ì½”ë“œ ë°˜ì˜ í•„ìš”
- í”„ë¡ íŠ¸ì—”ë“œ-ë°±ì—”ë“œ ì—°ë™: ì›ê²© ì„œë²„ ì—°ê²° í™•ì¸ í•„ìš”

### **ğŸ“‹ ë‹¤ìŒ ê°œë°œ ê³„íš**
- ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ êµ¬ì¶•
- ì„±ëŠ¥ ìµœì í™” (ìºì‹±, DB ì¸ë±ì‹±)
- ë³´ì•ˆ ê°•í™” (API ìœ¨ ì œí•œ, ì…ë ¥ ê²€ì¦)
- í…ŒìŠ¤íŠ¸ ìë™í™” (Unit, Integration, E2E)

---

## ğŸ¯ **ì•„í‚¤í…ì²˜ ê°œì„  ë¡œë“œë§µ**

### **Phase 1: ì•ˆì •ì„± í™•ë³´** (í˜„ì¬ ì§„í–‰ ì¤‘)
- [x] ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì •ê·œí™”
- [x] ì¸ì¦ ì‹œìŠ¤í…œ ì™„ì„±
- [ ] ì›ê²© ì„œë²„ ë°°í¬ ì™„ë£Œ
- [ ] ì „ì²´ ì‹œìŠ¤í…œ í†µí•© í…ŒìŠ¤íŠ¸

### **Phase 2: ì„±ëŠ¥ ìµœì í™”** (ë‹¤ìŒ ë‹¨ê³„)
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ì‹± ìµœì í™”
- [ ] API ì‘ë‹µ ì‹œê°„ ê°œì„ 
- [ ] í”„ë¡ íŠ¸ì—”ë“œ ë²ˆë“¤ í¬ê¸° ìµœì í™”
- [ ] CDN ì ìš©

### **Phase 3: í™•ì¥ì„± êµ¬ì¶•** (ì¥ê¸° ê³„íš)
- [ ] ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ ê²€í† 
- [ ] ë¡œë“œ ë°¸ëŸ°ì‹± ë„ì…
- [ ] ìë™ ìŠ¤ì¼€ì¼ë§ êµ¬í˜„
- [ ] ë‹¤ì¤‘ ì§€ì—­ ë°°í¬

**ğŸ“ ì—…ë°ì´íŠ¸**: 2025-05-30 | **ë²„ì „**: v1.2 | **ìƒíƒœ**: 85% ì™„ì„± 