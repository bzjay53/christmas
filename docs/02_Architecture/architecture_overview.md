# Christmas Trading í”„ë¡œì íŠ¸ êµ¬ì¡°ë„ ë° ì•„í‚¤í…ì²˜ í˜„í™©

## ğŸ—ï¸ ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Christmas Trading Platform                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚   Backend       â”‚    â”‚   Database      â”‚
â”‚   (Netlify)     â”‚â—„â”€â”€â–ºâ”‚   (Contabo)     â”‚â—„â”€â”€â–ºâ”‚   (Supabase)    â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ React + Vite    â”‚    â”‚ Node.js + API   â”‚    â”‚ PostgreSQL      â”‚
â”‚ Material-UI     â”‚    â”‚ Docker Stack    â”‚    â”‚ Real-time DB    â”‚
â”‚ WebSocket       â”‚    â”‚ nginx + Redis   â”‚    â”‚ Auth System     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚                       â”‚
        â”‚                       â”‚                       â”‚
        â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CDN/Hosting   â”‚    â”‚   VPS Server    â”‚    â”‚   Cloud DB      â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ HTTPS Enabled   â”‚    â”‚ 31.220.83.213   â”‚    â”‚ Managed Service â”‚
â”‚ Global Deploy   â”‚    â”‚ Ubuntu 22.04    â”‚    â”‚ Auto Backup     â”‚
â”‚ Auto Build      â”‚    â”‚ 8GB RAM/3 CPU   â”‚    â”‚ High Availabilityâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š í˜„ì¬ ë°°í¬ ìƒíƒœ (2025-05-25)

### âœ… í”„ë¡ íŠ¸ì—”ë“œ (Netlify)
- **URL**: https://christmas-trading.netlify.app
- **ìƒíƒœ**: ë°°í¬ ì™„ë£Œ, í™˜ê²½ ë³€ìˆ˜ ì—…ë°ì´íŠ¸ í•„ìš”
- **ê¸°ìˆ  ìŠ¤íƒ**: React 18, Vite, Material-UI v5
- **ê¸°ëŠ¥**: ì™„ì „í•œ UI/UX, ì¸ì¦ ì‹œìŠ¤í…œ, ëŒ€ì‹œë³´ë“œ

### âœ… ë°±ì—”ë“œ (Contabo VPS)
- **IP**: 31.220.83.213
- **ìƒíƒœ**: ì •ìƒ ìš´ì˜ ì¤‘ (8ê°œ ì»¨í…Œì´ë„ˆ)
- **API**: http://31.220.83.213/api/health (200 OK)
- **ì¸ì¦**: SSH í‚¤ ê¸°ë°˜ ìë™ ì ‘ì†

### âœ… ë°ì´í„°ë² ì´ìŠ¤ (Supabase)
- **ìƒíƒœ**: í´ë¼ìš°ë“œ ì—°ê²° ì™„ë£Œ
- **ê¸°ëŠ¥**: ì‹¤ì‹œê°„ DB, ì‚¬ìš©ì ì¸ì¦, íŒŒì¼ ì €ì¥ì†Œ
- **ì—°ë™**: ë°±ì—”ë“œì—ì„œ ì •ìƒ ì ‘ê·¼

## ğŸ³ Docker ì»¨í…Œì´ë„ˆ êµ¬ì„±

### í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì„œë¹„ìŠ¤ë“¤

| ì»¨í…Œì´ë„ˆëª… | ì´ë¯¸ì§€ | ìƒíƒœ | í¬íŠ¸ | ì—­í•  |
|-----------|--------|------|------|------|
| `christmas-nginx` | nginx:alpine | Up (unhealthy) | 80, 443 | ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ |
| `christmas-backend` | custom | Up (healthy) | 8000 | API ì„œë²„ |
| `christmas-postgres` | postgres:15 | Up (healthy) | 5432 | ë¡œì»¬ DB |
| `christmas-redis` | redis:7 | Up (healthy) | 6379 | ìºì‹œ/ì„¸ì…˜ |
| `christmas-grafana` | grafana | Up | 3001 | ëª¨ë‹ˆí„°ë§ |
| `christmas-prometheus` | prometheus | Up | 9090 | ë©”íŠ¸ë¦­ ìˆ˜ì§‘ |
| `christmas-wordpress` | wordpress | Up | - | CMS |
| `christmas-n8n` | n8n | Up | 5678 | ì›Œí¬í”Œë¡œìš° |

### ë„¤íŠ¸ì›Œí¬ êµ¬ì„±
```
Internet â†’ nginx (80/443) â†’ Backend API (8000)
                         â†’ Grafana (3001)
                         â†’ Prometheus (9090)
```

## ğŸ“ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
christmas/
â”œâ”€â”€ ğŸ“ backend/                 # Node.js API ì„œë²„
â”‚   â”œâ”€â”€ ğŸ“„ server.js           # ë©”ì¸ ì„œë²„ íŒŒì¼
â”‚   â”œâ”€â”€ ğŸ“ routes/             # API ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ ğŸ“ middleware/         # ë¯¸ë“¤ì›¨ì–´
â”‚   â”œâ”€â”€ ğŸ“„ websocket.js        # WebSocket ì„œë²„
â”‚   â””â”€â”€ ğŸ“„ Dockerfile          # ë°±ì—”ë“œ ì»¨í…Œì´ë„ˆ
â”‚
â”œâ”€â”€ ğŸ“ web-dashboard/          # React í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/     # React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ğŸ“ services/       # API ì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ ğŸ“ utils/          # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â””â”€â”€ ğŸ“„ App.jsx         # ë©”ì¸ ì•±
â”‚   â”œâ”€â”€ ğŸ“„ package.json        # ì˜ì¡´ì„± ê´€ë¦¬
â”‚   â””â”€â”€ ğŸ“„ vite.config.js      # Vite ì„¤ì •
â”‚
â”œâ”€â”€ ğŸ“ docs/                   # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”‚   â”œâ”€â”€ ğŸ“„ 18. christmas_wbs.md
â”‚   â”œâ”€â”€ ğŸ“„ 62. Contabo_ë°±ì—”ë“œ_ë°°í¬_ì™„ë£Œ_ë°_Netlify_ì—°ë™_ê°€ì´ë“œ.md
â”‚   â”œâ”€â”€ ğŸ“„ 63. Netlify_í™˜ê²½ë³€ìˆ˜_ì—…ë°ì´íŠ¸_ê°€ì´ë“œ.md
â”‚   â””â”€â”€ ğŸ“„ 64. í”„ë¡œì íŠ¸_êµ¬ì¡°ë„_ë°_ì•„í‚¤í…ì²˜_í˜„í™©.md
â”‚
â”œâ”€â”€ ğŸ“ scripts/                # ë°°í¬ ë° ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ ğŸ“„ netlify-env-update.md
â”‚   â””â”€â”€ ğŸ“ deployment/
â”‚
â”œâ”€â”€ ğŸ“ nginx/                  # nginx ì„¤ì •
â”‚   â”œâ”€â”€ ğŸ“„ nginx.conf
â”‚   â””â”€â”€ ğŸ“ ssl/
â”‚
â”œâ”€â”€ ğŸ“ monitoring/             # ëª¨ë‹ˆí„°ë§ ì„¤ì •
â”‚   â”œâ”€â”€ ğŸ“ grafana/
â”‚   â””â”€â”€ ğŸ“ prometheus/
â”‚
â”œâ”€â”€ ğŸ“„ docker-compose.yml      # ì „ì²´ ì„œë¹„ìŠ¤ êµ¬ì„±
â”œâ”€â”€ ğŸ“„ deploy-simple.ps1       # ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ ğŸ“„ production.env          # í”„ë¡œë•ì…˜ í™˜ê²½ ë³€ìˆ˜
â””â”€â”€ ğŸ“„ netlify-production.env  # Netlify í™˜ê²½ ë³€ìˆ˜
```

## ğŸ”— ë°ì´í„° íë¦„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTPS     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTP      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Netlify   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Contabo   â”‚
â”‚             â”‚              â”‚  Frontend   â”‚              â”‚   Backend   â”‚
â”‚ User Input  â”‚              â”‚ React App   â”‚              â”‚  Node.js    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚                            â”‚
                                     â”‚                            â”‚
                                     â–¼                            â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚  WebSocket  â”‚              â”‚  Supabase   â”‚
                              â”‚ Real-time   â”‚              â”‚ PostgreSQL  â”‚
                              â”‚ Updates     â”‚              â”‚ Database    â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸

### Frontend (Netlify)
- **Framework**: React 18.2.0
- **Build Tool**: Vite 5.0.0
- **UI Library**: Material-UI v5
- **State Management**: React Context + Hooks
- **HTTP Client**: Fetch API + Custom Service
- **WebSocket**: Native WebSocket API
- **Authentication**: Supabase Auth

### Backend (Contabo)
- **Runtime**: Node.js 18
- **Framework**: Express.js
- **Database**: Supabase PostgreSQL
- **Cache**: Redis 7
- **WebSocket**: ws package
- **Security**: Helmet, CORS, Rate Limiting
- **Monitoring**: Prometheus metrics

### Infrastructure
- **Container**: Docker + Docker Compose
- **Reverse Proxy**: nginx
- **SSL**: Let's Encrypt (ì˜ˆì •)
- **Monitoring**: Grafana + Prometheus
- **CI/CD**: GitHub Actions
- **Deployment**: Automated scripts

## ğŸš€ ë°°í¬ í”„ë¡œì„¸ìŠ¤

### 1. ê°œë°œ â†’ ìŠ¤í…Œì´ì§•
```bash
git push origin main
â†“
GitHub Actions íŠ¸ë¦¬ê±°
â†“
Netlify ìë™ ë¹Œë“œ ë° ë°°í¬
```

### 2. ìŠ¤í…Œì´ì§• â†’ í”„ë¡œë•ì…˜
```powershell
.\deploy-simple.ps1 dry-run    # í…ŒìŠ¤íŠ¸
.\deploy-simple.ps1 deploy     # ì‹¤ì œ ë°°í¬
```

### 3. ë°°í¬ ê²€ì¦
```bash
# í—¬ìŠ¤ì²´í¬
curl http://31.220.83.213/api/health

# ì„œë¹„ìŠ¤ ìƒíƒœ
ssh -i ~/.ssh/christmas_contabo root@31.220.83.213 "docker ps"
```

## ğŸ“Š ì„±ëŠ¥ ë° ëª¨ë‹ˆí„°ë§

### í˜„ì¬ ë©”íŠ¸ë¦­
- **ì‘ë‹µ ì‹œê°„**: < 200ms (API)
- **ê°€ìš©ì„±**: 99.9% (ëª©í‘œ)
- **ë™ì‹œ ì‚¬ìš©ì**: 100ëª… (ì˜ˆìƒ)
- **ë°ì´í„° ì²˜ë¦¬**: ì‹¤ì‹œê°„

### ëª¨ë‹ˆí„°ë§ ë„êµ¬
- **Grafana**: http://31.220.83.213:3001
- **Prometheus**: http://31.220.83.213:9090
- **ë¡œê·¸**: Docker logs
- **í—¬ìŠ¤ì²´í¬**: /api/health ì—”ë“œí¬ì¸íŠ¸

## ğŸ”’ ë³´ì•ˆ êµ¬ì„±

### ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ
- **ë°©í™”ë²½**: UFW í™œì„±í™”
- **SSH**: í‚¤ ê¸°ë°˜ ì¸ì¦ë§Œ í—ˆìš©
- **HTTPS**: Netlify ìë™ SSL
- **API**: CORS ì •ì±… ì ìš©

### ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ì•ˆ
- **ì¸ì¦**: Supabase Auth + JWT
- **ê¶Œí•œ**: ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´
- **ë°ì´í„°**: ì•”í˜¸í™” ì „ì†¡
- **API**: Rate Limiting ì ìš©

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„ ê³„íš

### ì¦‰ì‹œ ì§„í–‰ (1-2ì¼)
1. **Netlify í™˜ê²½ ë³€ìˆ˜ ì—…ë°ì´íŠ¸** (ìˆ˜ë™ ì‘ì—… í•„ìš”)
2. **nginx í—¬ìŠ¤ì²´í¬ ë¬¸ì œ í•´ê²°**
3. **SSL ì¸ì¦ì„œ ì„¤ì¹˜**

### ë‹¨ê¸° ê³„íš (1ì£¼ì¼)
1. **ì‹¤ì œ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ë° ê²€ì¦**
2. **KIS API ì‹¤ì œ ì—°ë™**
3. **ì„±ëŠ¥ ìµœì í™”**

### ì¤‘ê¸° ê³„íš (1ê°œì›”)
1. **ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜**
2. **ì¶”ê°€ ê¸°ëŠ¥ êµ¬í˜„**
3. **ìŠ¤ì¼€ì¼ë§ ì¤€ë¹„**

---

**ì‘ì„±ì¼**: 2025-05-25  
**ì‘ì„±ì**: Christmas Trading ê°œë°œíŒ€  
**ìƒíƒœ**: ë°±ì—”ë“œ ë°°í¬ ì™„ë£Œ, í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™ ì§„í–‰ ì¤‘ 